<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>To Do List App</title>
    <!-- External CSS for styling -->
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body onload="welcomeMessage()">
    <!-- Sidebar Section -->
    <div class="sidebar">
        <div>
            <!-- User Profile Info -->
            <div class="profile">
                <img src="./Images/Profile-pic.jpg" alt="User" />
                <h3>Vaishnavi Devale</h3>
                <p style="font-size: 12px;">vaishnavidevale22@gmail.com</p>
            </div>

            <!-- Navigation Items -->
            <div class="nav">
                <div class="nav-item"><i class="fas fa-home"></i> Dashboard</div>
                <div class="nav-item"><i class="fas fa-tasks"></i> My Task</div>
                <div class="nav-item"><i class="fas fa-layer-group"></i> Task Categories</div>
                <div class="nav-item"><i class="fas fa-cog"></i> Settings</div>
                <div class="nav-item"><i class="fas fa-question-circle"></i> Help</div>
            </div>
        </div>

        <!-- Logout Button (double-click to trigger) -->
        <div ondblclick="logout()" class="logout">
            <i class="fas fa-sign-out-alt"></i> Logout
        </div>
    </div>

    <!-- Main Content Section -->
    <div class="main-content">

        <!-- Top Bar Section -->
        <div class="top-bar">
            <!-- Search Box -->
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search your task here..." />
            </div>

            <!-- Due Date Picker -->
            <input type="date" id="dueDate">
        </div>

        <!-- Greeting Message -->
        <div class="greeting">
            Welcome back, Vaishnavi ðŸ‘‹
        </div>

        <!-- Task Board Section -->
        <div class="task-board">

            <!-- To-Do List Card -->
            <div class="card">
                <h2>My To-Do List</h2>
                <br><br>

                <!-- Task Input and Add Button -->
                <div class="top-bar2">
                    <input class="ip" type="text" id="taskInput" placeholder="Enter task">
                    <button onclick="addTask()">Add Task</button>
                    <ul id="taskList"></ul>
                </div>

                <br>
                <!-- (Optional) Legacy Task List -->
                <ul id="todo-list"></ul>
            </div>

            <!-- Contact Form Card -->
            <div class="card">
                <h3>Get Notified Via Email</h3>

                <!-- Contact Form -->
                <form id="contactForm" onsubmit="return validateForm(event)" novalidate>

                    <!-- Name Field -->
                    <div class="form-group">
                        <label for="name">Name <span>*</span></label>
                        <input type="text" id="name" placeholder="Your name" required />
                        <small class="error-msg" id="nameError"></small>
                    </div>

                    <!-- Email Field -->
                    <div class="form-group">
                        <label for="email">Email <span>*</span></label>
                        <input type="email" id="email" placeholder="Your email" required />
                        <small class="error-msg" id="emailError"></small>
                    </div>

                    <!-- Message Field -->
                    <div class="form-group">
                        <label for="message">Message <span>*</span></label>
                        <textarea id="message" placeholder="Write your message..." required></textarea>
                        <small class="error-msg" id="messageError"></small>
                    </div>

                    <!-- Submit Button and Success Message -->
                    <button type="submit">Send Message</button>
                    <p class="success-msg" id="successMsg" style="display: none;">âœ… Message sent successfully!</p>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript Section -->
    <script>
        // Show welcome alert on page load
        function welcomeMessage() {
            alert("Welcome to your Dashboard, Vaishnavi!");
        }

        // Log out function with confirmation
        function logout() {
            if (confirm("Are you sure you want to LogOut?")) {
                alert("Successfully LogOut!");
            } else {
                alert("You clicked Cancel!");
            }
        }

        // Log selected date to console
        const dueDateInput = document.getElementById("dueDate");
        dueDateInput.addEventListener("change", () => {
            console.log("Selected date:", dueDateInput.value);
        });

        // Function to add a new task
        function addTask() {
            const taskInput = document.getElementById('taskInput');
            const taskText = taskInput.value.trim();

            if (taskText === "") {
                alert("Please enter a task!");
                return;
            }

            // Create a new list item for the task
            const taskList = document.getElementById('taskList');
            const li = document.createElement('li');

            // Create checkbox for marking task as completed
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';

            // Task text
            const span = document.createElement('span');
            span.textContent = taskText;

            // Toggle class on checkbox change
            checkbox.addEventListener('change', () => {
                span.classList.toggle('completed');
            });

            // Create delete button labeled "Remove"
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = "Remove";
            deleteBtn.className = "delete-btn";

            // Remove task on button click
            deleteBtn.addEventListener('click', () => {
                li.remove();
            });

            // Append checkbox, text, and delete button to the list item
            li.appendChild(checkbox);
            li.appendChild(span);
            li.appendChild(deleteBtn);

            // Append the list item to the task list
            taskList.appendChild(li);

            // Clear input field
            taskInput.value = "";
        }

        // Function to validate the contact form
        function validateForm(e) {
            e.preventDefault(); // Prevent form submission

            const fields = ["name", "email", "message"];
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            let valid = true;

            // Loop through all form fields
            fields.forEach((id) => {
                const input = document.getElementById(id);
                const error = document.getElementById(id + "Error");
                error.style.display = "none";

                // Validates required fields
                if (!input.value.trim()) {
                    error.textContent = `Please enter your ${id}.`;
                    error.style.display = "block";
                    valid = false;
                }
                // Additional email validation
                else if (id === "email" && !emailRegex.test(input.value.trim())) {
                    error.textContent = "Please enter a valid email.";
                    error.style.display = "block";
                    valid = false;
                }
            });

            const success = document.getElementById("successMsg");

            // Shows success message if all fields are valid
            success.style.display = valid ? "block" : "none";

            // Resets form if valid
            if (valid) document.getElementById("contactForm").reset();

            return false;
        }
    </script>
</body>

</html>
